@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@using Calligraphy.Helpers;
@{
    Layout = "Master.cshtml";
}

@section Css{

}

<div class="certificates">
    <div class="section-desc">
        <h1>@Model.Content.Name</h1>
        <div class="intro">@CurrentPage.certificatesDescription</div>
        <hr />
    </div>
    @if (CurrentPage.HasValue("certificateImages") != null)
    {
        float count = 1;
    <div class="cert-showcase">
        @foreach (IPublishedContent showcaseItem in Model.Content.DescendantsOrSelf("certificateShowcase"))
        {
            var thumbnailImage = showcaseItem.GetPropertyValue<IEnumerable<IPublishedContent>>("thumbnailImage").FirstOrDefault();
            var cssClass = (count % 2) == 0 ? "floatRight" : "floatLeft";
            <div class="cert-showcase-item @cssClass">
                <div>
                    <a href="@showcaseItem.Url">
                        <img src="@thumbnailImage.Url" alt="@showcaseItem.GetPropertyValue("Title")" title="@showcaseItem.GetPropertyValue("Title")" />
                    </a>
                </div>
                <div>
                    <a href="@showcaseItem.Url">@showcaseItem.GetPropertyValue("pageTitle")</a>
                    <p>@showcaseItem.GetPropertyValue("Description").ToString().TruncateSentence(13)</p>
                </div>
            </div>
            count++;
        }
    </div>
    <div class="clearBoth"></div>
    }
</div>

@section Scripts {
}